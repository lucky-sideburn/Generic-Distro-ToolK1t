# Architecture: x86_64
CONFIG_64BIT=y
CONFIG_X86_64=y
CONFIG_X86=y
CONFIG_ARCH_DEFCONFIG="arch/x86/configs/x86_64_defconfig"

# Logo
CONFIG_LOGO=y
CONFIG_FB=y
CONFIG_FB_EFI=y
CONFIG_LOGO_LINUX_CLUT224=y

# File system
CONFIG_EXT4_FS=y
CONFIG_TMPFS=y
CONFIG_OVERLAY_FS=y

# Networking
CONFIG_NET=y
CONFIG_INET=y
CONFIG_IPV6=y
CONFIG_NETFILTER=y
CONFIG_NF_CONNTRACK=y
CONFIG_NF_NAT=y
CONFIG_NETFILTER_XT_MATCH_COMMENT=y
CONFIG_IP_NF_TARGET_REDIRECT=y

# cgroups
CONFIG_CGROUPS=y
CONFIG_CGROUP_BPF=y
CONFIG_CGROUP_FREEZER=y
CONFIG_CGROUP_DEVICE=y
CONFIG_CGROUP_CPUACCT=y
CONFIG_CGROUP_PIDS=y
CONFIG_CPUSETS=y
CONFIG_MEMCG=y
CONFIG_MEMCG_SWAP=y
CONFIG_MEMCG_KMEM=y
CONFIG_PROC_PID_CPUSET=y

# BPF
CONFIG_BPF=y
CONFIG_BPF_SYSCALL=y

# Namespace (Kubernetes usa i namespace isolati)
CONFIG_NAMESPACES=y
CONFIG_UTS_NS=y
CONFIG_IPC_NS=y
CONFIG_USER_NS=y
CONFIG_PID_NS=y
CONFIG_NET_NS=y

# Overlay & AUFS
CONFIG_AUFS_FS=m
CONFIG_OVERLAY_FS=y

# Loop device & devtmpfs 
CONFIG_DEVTMPFS=y
CONFIG_DEVTMPFS_MOUNT=y
CONFIG_BLK_DEV_LOOP=y

# Docker-related extras
CONFIG_BRIDGE_NETFILTER=y
CONFIG_VETH=y

# Kubelet / container runtime / filesystem
CONFIG_SECCOMP=y
CONFIG_SECCOMP_FILTER=y

# Compatibility with systemd, even if not required on LFS
CONFIG_EFI_VARS=y

# CPU, basic scheduling
CONFIG_SCHED_AUTOGROUP=y
